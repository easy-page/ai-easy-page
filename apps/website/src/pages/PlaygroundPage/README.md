# Playground 页面设计文档

## 整体结构

Playground 页面采用左右分栏布局，提供可视化的表单配置和预览功能。

### 布局结构

```
┌─────────────────────────────────────────────────────────────┐
│                    Playground 页面                          │
├─────────────────────┬───────────────────────────────────────┤
│      左侧配置区      │           右侧预览区                  │
│   (480px 宽度)      │         (自适应宽度)                  │
├─────────────────────┼───────────────────────────────────────┤
│ ┌─────────────────┐ │ ┌─────────────────────────────────────┐ │
│ │   配置搭建 Tab   │ │ │           表单预览                  │ │
│ │   - 创建表单     │ │ │  ┌─────────────────────────────────┐ │ │
│ │   - 创建页面     │ │ │  │        预览工具栏                │ │ │
│ │                 │ │ │  │  [模式切换] [刷新] [全屏]        │ │ │
│ └─────────────────┘ │ │  └─────────────────────────────────┘ │ │
│ ┌─────────────────┐ │ │ ┌─────────────────────────────────┐ │ │
│ │   AI 搭建 Tab    │ │ │ │        预览内容区域              │ │ │
│ │   - 对话界面     │ │ │ │                                 │ │ │
│ │   - 示例展示     │ │ │ │                                 │ │ │
│ │   - 设置选项     │ │ │ │                                 │ │ │
│ └─────────────────┘ │ │ └─────────────────────────────────┘ │ │
└─────────────────────┴───────────────────────────────────────┘
```

## 功能模块

### 1. 配置搭建 (ConfigBuilder)

**功能特点：**

- 选择创建类型（表单/页面）
- 可视化配置界面
- Schema 实时预览
- 导入/导出配置

**设计风格：**

- 卡片式布局
- 清晰的层级结构
- 友好的交互提示

### 2. AI 搭建 (AIBuilder)

**功能特点：**

- 自然语言对话界面
- 智能表单生成
- 示例对话展示
- AI 设置配置

**设计风格：**

- 聊天界面布局
- 消息气泡样式
- 输入区域优化

### 3. 预览面板 (PreviewPanel)

**功能特点：**

- 实时表单预览
- 模式切换（创建/编辑/查看）
- 刷新和全屏功能
- 错误提示

**设计风格：**

- 工具栏设计
- 预览区域优化
- 状态指示器

## 技术架构

### 核心组件

1. **SchemaEngine** (`Engine/index.tsx`)

   - Schema 解析引擎
   - 组件渲染器
   - 事件处理函数管理

2. **Schema 定义** (`Schema/index.ts`)

   - 类型安全的数据结构
   - 预定义模板
   - 扩展性设计

3. **类型系统**
   - 基于 `@easy-page/core` 的类型定义
   - 严格的类型检查
   - 避免使用 `any` 类型

### 数据流

```
用户操作 → 配置更新 → Schema 变化 → 引擎解析 → 预览渲染
    ↓
AI 对话 → 智能生成 → Schema 更新 → 实时预览
```

## 设计原则

### 1. 类型安全

- 所有组件都使用严格的 TypeScript 类型
- 避免使用 `any` 类型
- 基于核心包的类型定义

### 2. 模块化设计

- 组件职责单一
- 清晰的接口定义
- 易于扩展和维护

### 3. 用户体验

- 直观的操作界面
- 实时的反馈机制
- 友好的错误提示

### 4. 可扩展性

- 插件化的组件系统
- 灵活的 Schema 结构
- 支持自定义处理器

## 后续规划

### 短期目标

- [ ] 完善表单字段配置
- [ ] 添加更多组件类型
- [ ] 实现配置导入/导出

### 中期目标

- [ ] AI 智能生成功能
- [ ] 可视化拖拽编辑
- [ ] 模板市场

### 长期目标

- [ ] 完整的低代码平台
- [ ] 团队协作功能
- [ ] 云端部署支持

## 文件结构

```
PlaygroundPage/
├── index.tsx              # 主页面组件
├── index.less             # 样式文件
├── README.md              # 设计文档
├── Engine/
│   └── index.tsx          # Schema 解析引擎
├── Schema/
│   └── index.ts           # Schema 类型定义
└── components/
    ├── ConfigBuilder/     # 配置搭建组件
    ├── AIBuilder/         # AI 搭建组件
    └── PreviewPanel/      # 预览面板组件
```
