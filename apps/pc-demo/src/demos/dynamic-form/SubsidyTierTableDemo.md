# 补贴阶梯配置 - 表格布局 Demo

## 概述

这个 demo 展示了如何使用 DynamicForm 的 `containerType="table"` 来实现补贴阶梯配置功能。相比自定义容器布局，表格布局提供了更加直观和标准化的展示方式。

## 主要特性

### 1. 表格布局优势

- **直观展示**: 以表格形式展示阶梯配置，每行代表一个阶梯
- **自动列生成**: 根据字段配置自动生成表格列（序号、券门槛、补贴要求、操作）
- **标准操作**: 操作列包含删除按钮，底部有添加按钮
- **响应式设计**: 表格自动适应内容宽度

### 2. 功能特性

- **阶梯配置**: 支持最多 10 个补贴阶梯配置
- **券门槛设置**: 每个阶梯设置券门槛范围，最后一个阶梯为"不限"
- **补贴要求**: 设置商家最高补贴要求，支持一位小数
- **联动效果**: 当前行的最大值自动设置为下一行的最小值
- **风险预警**: 当补贴要求过高时显示风险警告
- **表单验证**: 完整的验证规则和错误提示

## 技术实现

### 1. 使用 TableContainer

```tsx
<DynamicForm
  id="subsidyTiers"
  maxRow={MAX_TIERS}
  minRow={1}
  containerType="table"  // 使用表格布局
  rows={[...]}
/>
```

### 2. 字段配置

- **券门槛字段**: 使用自定义的 `ThresholdRangeInput` 组件
- **补贴要求字段**: 使用 `InputNumber` 组件，支持小数输入
- **联动逻辑**: 通过 `effects` 实现行间数据联动

### 3. 类型安全

- 修复了原始 demo 中的 TypeScript 类型错误
- 添加了类型安全检查，确保数据结构的正确性

## 与自定义容器布局的对比

| 特性       | 表格布局     | 自定义容器布局 |
| ---------- | ------------ | -------------- |
| 实现复杂度 | 简单         | 复杂           |
| 展示效果   | 标准化       | 高度自定义     |
| 维护成本   | 低           | 高             |
| 扩展性     | 中等         | 高             |
| 适用场景   | 标准表格数据 | 特殊布局需求   |

## 使用建议

1. **选择表格布局的场景**:

   - 数据结构相对固定
   - 需要标准化的表格展示
   - 快速开发和维护

2. **选择自定义容器的场景**:
   - 需要特殊的布局设计
   - 复杂的交互逻辑
   - 高度定制化的展示效果

## 运行方式

1. 启动开发服务器: `pnpm dev`
2. 访问: `http://localhost:3000`
3. 在动态表单演示页面中查看"商家最高补贴要求配置 - 表格布局"

## 代码结构

```
SubsidyTierTableDemo.tsx
├── ThresholdRangeInput  // 自定义券门槛输入组件
├── SubsidyTierTableDemo // 主组件
│   ├── 表单配置
│   ├── 字段定义
│   ├── 联动逻辑
│   └── 验证规则
└── 功能说明
```
